################################################################################
# FreeSWITCH Production Environment Configuration
# Copy this file to .env and adjust values for your deployment
################################################################################

################################################################################
# REQUIRED: Core Configuration
################################################################################

# SIP Domain (your FreeSWITCH domain)
FS_DOMAIN=sip.example.com

# External IP addresses for SIP/RTP (public IP or hostname)
EXTERNAL_SIP_IP=203.0.113.10
EXTERNAL_RTP_IP=203.0.113.10

################################################################################
# OPTIONAL: Network Configuration
################################################################################

# SIP Ports
INTERNAL_SIP_PORT=5060
EXTERNAL_SIP_PORT=5080

# RTP Port Range
RTP_START_PORT=16384
RTP_END_PORT=32768

# Codec Preferences
CODEC_PREFS=PCMU,PCMA,G729,opus
OUTBOUND_CODEC_PREFS=PCMU,PCMA,G729

################################################################################
# Users Configuration
################################################################################

# Authenticated Users (password-based)
# Format: username:password:extension,username2:password2:extension2
# Extension is optional (defaults to username)
USERS=alice:secret123:1001,bob:secret456:1002,charlie:secret789:1003

# ACL Users (IP-based, no password required)
# Format: username:ip_address:extension,username2:ip2:extension2
# Uncomment to use:
# ACL_USERS=trunk1:192.168.1.100:2001,trunk2:192.168.1.101:2002

################################################################################
# Gateways Configuration
################################################################################

# SIP Gateways/Trunks
# Format: name:host:port:username:password:register:transport
# Fields:
#   - name: gateway identifier (required)
#   - host: SIP server hostname/IP (required)
#   - port: SIP port (default: 5060)
#   - username: auth username (optional for no-auth trunks)
#   - password: auth password (optional)
#   - register: true/false (default: true)
#   - transport: udp/tcp (default: udp)

GATEWAYS=provider1:sip.provider1.com:5060:myuser:mypass:true:udp

# Multiple gateways example:
# GATEWAYS=provider1:sip.provider1.com:5060:user1:pass1:true:udp,provider2:sip.provider2.com:5060:user2:pass2:true:udp

# Gateway without authentication example:
# GATEWAYS=trunk:sip.trunk-provider.com:5060:::false:udp

################################################################################
# Dialplan: Outbound Routes
################################################################################

# Outbound Routes
# Format: pattern:gateway:prepend:strip
# Fields:
#   - pattern: regex pattern for destination number (required)
#   - gateway: gateway name to use (required)
#   - prepend: prefix to add before number (optional)
#   - strip: prefix to remove from number (optional)

# Example: Route international calls (00...) via provider1
OUTBOUND_ROUTES=^00.*:provider1

# Multiple routes example:
# OUTBOUND_ROUTES=^00.*:provider1::00,^0[1-9].*:provider1:+49:0,^.*:provider1

# Or use default gateway for all outbound:
# DEFAULT_GATEWAY=provider1

################################################################################
# Dialplan: Inbound Routes
################################################################################

# Inbound Routes (DID routing)
# Format: DID:extension,DID2:extension2
# Use * as wildcard/catch-all

# Example: Route specific DIDs to extensions
INBOUND_ROUTES=+49301234567:1001,+49301234568:1002,*:1000

# Or use default extension for all inbound:
# DEFAULT_EXTENSION=1000

################################################################################
# OPTIONAL: Advanced Settings
################################################################################

# FreeSWITCH Configuration Directory
# FS_CONF=/etc/freeswitch

# Backup Directory
# BACKUP_DIR=/var/backups/freeswitch

# Restart SIP profiles on provision (true/false)
# RESTART_PROFILES=false

# Skip provisioning on container start (true/false)
# SKIP_PROVISION=false

# SIP Debugging (0-9, higher = more verbose)
# SIP_DEBUG=0

# SIP Packet Tracing (yes/no)
# SIP_TRACE=no

################################################################################
# SignalWire Token (optional, for official SignalWire repos)
################################################################################

# Get token from: https://developer.signalwire.com/freeswitch
# SIGNALWIRE_TOKEN=your_token_here

################################################################################
# EXAMPLES FOR COMMON SCENARIOS
################################################################################

# --- Example 1: Simple Office PBX ---
# FS_DOMAIN=office.local
# EXTERNAL_SIP_IP=203.0.113.50
# EXTERNAL_RTP_IP=203.0.113.50
# USERS=alice:pass123:1001,bob:pass456:1002,carol:pass789:1003
# GATEWAYS=voip_provider:sip.provider.com:5060:account123:secret123:true:udp
# DEFAULT_GATEWAY=voip_provider
# INBOUND_ROUTES=*:1001

# --- Example 2: Multi-Provider with Number Routing ---
# FS_DOMAIN=pbx.company.com
# EXTERNAL_SIP_IP=203.0.113.100
# EXTERNAL_RTP_IP=203.0.113.100
# USERS=user1:pass1:1001,user2:pass2:1002
# GATEWAYS=provider_de:sip.de.com:5060:user_de:pass_de:true:udp,provider_us:sip.us.com:5060:user_us:pass_us:true:udp
# OUTBOUND_ROUTES=^\\+49.*:provider_de,^\\+1.*:provider_us
# INBOUND_ROUTES=+4930111111:1001,+4930222222:1002

# --- Example 3: SIP Trunk (IP-based, no auth) ---
# FS_DOMAIN=trunk.example.com
# EXTERNAL_SIP_IP=203.0.113.200
# EXTERNAL_RTP_IP=203.0.113.200
# ACL_USERS=provider_trunk:198.51.100.50:9000
# GATEWAYS=provider:sip.provider.net:5060:::false:udp
# DEFAULT_GATEWAY=provider
# DEFAULT_EXTENSION=9000
